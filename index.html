<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mini Flipkart Store</title>

  <!-- Font Awesome Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">

  <style>
    * { margin:0; padding:0; box-sizing:border-box; font-family:'Poppins', sans-serif; }
    body { background-color: #f1f3f6; }

    /* Header */
    header {
      background-color: #2874f0;
      color: white;
      padding: 15px 40px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      z-index: 1000;
      box-shadow: 0 2px 6px rgba(0,0,0,0.2);
    }
    header h1 { font-size: 22px; }
    header .cart { position: relative; cursor: pointer; font-size: 20px; }
    header .cart span { position: absolute; top:-10px; right:-10px; background:#ff5252; color:white; font-size:13px; padding:2px 6px; border-radius:10px; }

    /* Sidebar */
    #sidebar {
      position: fixed; top: 70px; left: 0;
      width: 230px; height: 100%;
      background-color: #fff; border-right:1px solid #ddd;
      padding:20px; box-shadow:2px 0 8px rgba(0,0,0,0.05); z-index:999; overflow-y:auto;
    }
    #sidebar h2 { font-size:20px; color:#2874f0; margin-bottom:10px; display:flex; align-items:center; gap:8px; }
    #sidebar ul { list-style:none; padding:0; }
    #sidebar ul li { display:flex; align-items:center; gap:10px; font-size:16px; color:#333; padding:10px 8px; margin:4px 0; border-radius:6px; cursor:pointer; transition:0.2s; }
    #sidebar ul li i { font-size:18px; color:#2874f0; width:25px; text-align:center; }
    #sidebar ul li:hover { background:#f1f1f1; color:#2874f0; }
    #sidebar ul li:hover i { color:#0a58ca; }

    /* Products */
    #products { margin-top:100px; margin-left:260px; display:flex; flex-wrap:wrap; justify-content:center; gap:20px; padding:20px; }
    .product { background:#fff; width:250px; border-radius:10px; box-shadow:0 2px 6px rgba(0,0,0,0.1); padding:15px; text-align:center; transition:0.2s; }
    .product:hover { transform:scale(1.03); }
    .product img { width:100%; height:200px; object-fit:contain; margin-bottom:10px; }
    .product button { background:#2874f0; color:white; border:none; padding:8px 15px; border-radius:6px; cursor:pointer; transition:0.3s; }
    .product button:hover { background:#0a58ca; }

    /* Cart Section */
    #cart-section { margin-left:260px; padding:20px; }
    .cart-item { display:flex; align-items:center; background:#fff; padding:15px; border-radius:10px; box-shadow:0 2px 6px rgba(0,0,0,0.1); margin-bottom:15px; gap:15px; }
    .cart-item img { width:100px; height:100px; object-fit:contain; }
    .cart-item h3 { margin-bottom:5px; }
    .remove-btn { margin-left:auto; background:#ff5252; color:white; border:none; padding:6px 12px; border-radius:6px; cursor:pointer; }
    #checkout { background:#2874f0; color:white; border:none; padding:10px 20px; border-radius:6px; cursor:pointer; margin-top:10px; }

    /* Floating Cart */
    #floating-cart { position:fixed; bottom:25px; right:25px; background:#2874f0; color:white; font-size:22px; font-weight:bold; border-radius:50%; width:60px; height:60px; display:flex; align-items:center; justify-content:center; box-shadow:0 4px 10px rgba(0,0,0,0.3); cursor:pointer; z-index:9999; transition:0.2s; }
    #floating-cart:hover { background:#0a58ca; transform:scale(1.1); }
    #floating-cart #floating-count { background:#ff5252; color:white; font-size:14px; padding:2px 6px; border-radius:10px; position:absolute; top:10px; right:10px; }

    /* Payment Modal */
    #payment-modal { position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.5); display:flex; align-items:center; justify-content:center; z-index:99999; }
    #payment-content { background:#fff; padding:30px; border-radius:10px; text-align:center; width:300px; }
    #payment-content h3 { margin-bottom:20px; color:#2874f0; }
    #payment-content button { display:block; width:100%; margin:8px 0; padding:10px; border:none; border-radius:6px; cursor:pointer; font-size:16px; transition:0.3s; background:#2874f0; color:white; }
    #payment-content button:hover { background:#0a58ca; }
    #payment-content input { border:1px solid #ccc; border-radius:6px; padding:8px; margin:5px 0; width:100%; }

    /* Form-specific width adjustments */
    #card-form input[type=text]:nth-child(2),
    #card-form input[type=text]:nth-child(3) { width:48%; display:inline-block; margin:5px 1%; }
  </style>
</head>
<body>

  <!-- Header -->
  <header>
    <h1>Mini Flipkart</h1>
    <div class="cart">
      <i class="fa-solid fa-cart-shopping"></i>
      <span id="cart-count">0</span>
    </div>
  </header>

  <!-- Sidebar -->
  <aside id="sidebar">
    <h2><i class="fa-solid fa-list"></i> Categories</h2>
    <ul>
      <li onclick="filterCategory('All')"><i class="fa-solid fa-store"></i> All Products</li>
      <li onclick="filterCategory('Mobiles')"><i class="fa-solid fa-mobile-screen-button"></i> Mobiles</li>
      <li onclick="filterCategory('Fashion')"><i class="fa-solid fa-shirt"></i> Fashion</li>
      <li onclick="filterCategory('Electronics')"><i class="fa-solid fa-tv"></i> Electronics</li>
      <li onclick="filterCategory('Grocery')"><i class="fa-solid fa-carrot"></i> Grocery</li>
      <li onclick="filterCategory('Home')"><i class="fa-solid fa-couch"></i> Home & Furniture</li>
    </ul>
  </aside>

  <!-- Products Section -->
  <section id="products">
    <div class="product" data-category="Mobiles">
      <img src="https://m.media-amazon.com/images/I/71geVdy6-OS._SL1500_.jpg" alt="Samsung">
      <h3>Samsung Galaxy M14</h3>
      <p>â‚¹12,999</p>
      <button onclick="addToCart('Samsung Galaxy M14', 12999, this.previousElementSibling.previousElementSibling.src)">Add to Cart</button>
    </div>
    <div class="product" data-category="Fashion">
      <img src="https://m.media-amazon.com/images/I/71c7tMLvheL._SL1500_.jpg" alt="T-Shirt">
      <h3>Menâ€™s Cotton T-Shirt</h3>
      <p>â‚¹499</p>
      <button onclick="addToCart('Menâ€™s Cotton T-Shirt', 499, this.previousElementSibling.previousElementSibling.src)">Add to Cart</button>
    </div>
    <div class="product" data-category="Electronics">
      <img src="https://m.media-amazon.com/images/I/81Zt42ioCgL._SL1500_.jpg" alt="Headphones">
      <h3>Boat Rockerz 450</h3>
      <p>â‚¹1,299</p>
      <button onclick="addToCart('Boat Rockerz 450', 1299, this.previousElementSibling.previousElementSibling.src)">Add to Cart</button>
    </div>
    <div class="product" data-category="Home">
      <img src="https://m.media-amazon.com/images/I/71cK7YXeC-L._SL1500_.jpg" alt="Chair">
      <h3>Wooden Chair</h3>
      <p>â‚¹2,499</p>
      <button onclick="addToCart('Wooden Chair', 2499, this.previousElementSibling.previousElementSibling.src)">Add to Cart</button>
    </div>
  </section>

  <!-- Cart Section -->
  <section id="cart-section">
    <h2>Your Cart</h2>
    <div id="cart-list"></div>
    <p><strong>Total: â‚¹<span id="total-amount">0</span></strong></p>
    <button id="checkout">Checkout</button>
  </section>

  <!-- Floating Cart -->
  <div id="floating-cart">
    ðŸ›’ <span id="floating-count">0</span>
  </div>

  <!-- Payment Modal -->
  <div id="payment-modal" style="display:none;">
    <div id="payment-content">
      <h3>Select Payment Method</h3>
      <button onclick="showPaymentForm('card')">ðŸ’³ Credit/Debit Card</button>
      <button onclick="showPaymentForm('upi')">ðŸ“² UPI</button>
      <button onclick="showPaymentForm('cod')">ðŸ’µ Cash on Delivery</button>
      <button onclick="closePaymentModal()">Cancel</button>

      <!-- Card Payment Form -->
      <div id="card-form" style="display:none; margin-top:15px;">
        <input type="text" id="card-number" placeholder="Card Number" maxlength="16">
        <input type="text" id="card-expiry" placeholder="MM/YY">
        <input type="text" id="card-cvv" placeholder="CVV" maxlength="3">
        <button onclick="pay('Credit/Debit Card')">Pay â‚¹<span id="pay-total-card"></span></button>
      </div>

      <!-- UPI Payment Form -->
      <div id="upi-form" style="display:none; margin-top:15px;">
        <input type="text" id="upi-id" placeholder="Enter UPI ID">
        <button onclick="pay('UPI')">Pay â‚¹<span id="pay-total-upi"></span></button>
      </div>

      <!-- COD Form -->
      <div id="cod-form" style="display:none; margin-top:15px;">
        <p>Confirm Cash on Delivery for â‚¹<span id="pay-total-cod"></span>?</p>
        <button onclick="pay('Cash on Delivery')">Confirm COD</button>
      </div>
    </div>
  </div>

  <script>
    // Cart Setup
    let cart = JSON.parse(localStorage.getItem("cart")) || [];
    const cartCount = document.getElementById("cart-count");
    const floatingCount = document.getElementById("floating-count");
    const cartList = document.getElementById("cart-list");
    const totalAmount = document.getElementById("total-amount");

    cartCount.textContent = cart.length;
    floatingCount.textContent = cart.length;

    function saveCart(){
      localStorage.setItem("cart", JSON.stringify(cart));
      cartCount.textContent = cart.length;
      floatingCount.textContent = cart.length;
      renderCart();
    }

    function addToCart(name, price, img){
      cart.push({name, price, img});
      saveCart();
    }

    function renderCart(){
      cartList.innerHTML = "";
      let total = 0;
      if(cart.length === 0){
        cartList.innerHTML = "<p>Your cart is empty!</p>";
        totalAmount.textContent = "0";
        return;
      }
      cart.forEach((product, index)=>{
        total += product.price;
        const item = document.createElement("div");
        item.className = "cart-item";
        item.innerHTML = `
          <img src="${product.img}" alt="${product.name}">
          <div>
            <h3>${product.name}</h3>
            <p>â‚¹${product.price}</p>
          </div>
          <button class="remove-btn" data-index="${index}">Remove</button>
        `;
        cartList.appendChild(item);
      });
      totalAmount.textContent = total;

      document.querySelectorAll(".remove-btn").forEach(btn=>{
        btn.addEventListener("click", ()=>{
          const idx = btn.getAttribute("data-index");
          cart.splice(idx,1);
          saveCart();
        });
      });
    }

    // Filter products
    function filterCategory(category){
      const allProducts = document.querySelectorAll(".product");
      allProducts.forEach(product=>{
        const productCategory = product.getAttribute("data-category");
        product.style.display = (category==="All" || productCategory===category) ? "block" : "none";
      });
    }

    // Floating cart click scroll
    document.getElementById("floating-cart").addEventListener("click", ()=>{
      document.querySelector("#cart-section").scrollIntoView({behavior:"smooth"});
    });

    // Payment modal
    function closePaymentModal(){ document.getElementById("payment-modal").style.display = "none"; }
    function showPaymentForm(method){
      document.getElementById("card-form").style.display="none";
      document.getElementById("upi-form").style.display="none";
      document.getElementById("cod-form").style.display="none";

      document.getElementById("pay-total-card").textContent = totalAmount.textContent;
      document.getElementById("pay-total-upi").textContent = totalAmount.textContent;
      document.getElementById("pay-total-cod").textContent = totalAmount.textContent;

      if(method==="card") document.getElementById("card-form").style.display="block";
      if(method==="upi") document.getElementById("upi-form").style.display="block";
      if(method==="cod") document.getElementById("cod-form").style.display="block";
    }

    document.getElementById("checkout").addEventListener("click", ()=>{
      if(cart.length===0){ alert("Your cart is empty!"); return; }
      document.getElementById("payment-modal").style.display="flex";
    });

    function pay(method){
      if(method==="Credit/Debit Card"){
        const cardNumber=document.getElementById("card-number").value.trim();
        const expiry=document.getElementById("card-expiry").value.trim();
        const cvv=document.getElementById("card-cvv").value.trim();
        if(cardNumber.length!==16 || expiry.length===0 || cvv.length!==3){
          alert("Please enter valid card details!"); return;
        }
      }
      if(method==="UPI"){
        const upi=document.getElementById("upi-id").value.trim();
        if(upi===""){ alert("Please enter your UPI ID!"); return; }
      }
      alert(`Payment successful via ${method}!\nTotal Amount: â‚¹${totalAmount.textContent}`);
      cart = [];
      saveCart();
      closePaymentModal();
    }

    renderCart();
  </script>

</body>
</html>
